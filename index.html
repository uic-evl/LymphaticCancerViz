<html>

<head>
    <link rel="stylesheet" href="lib/css/bootstrap.min.css">
    <link rel="stylesheet" href="src/css/custom.css">
    <link rel="stylesheet" href="src/css/main.css">
    <link rel="stylesheet" href="src/css/menu.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
    <script src="lib/js/lodash.min.js"></script>
    <script src="lib/js/knockout.js"></script>

    <script src="lib/js/jquery-2.2.4.min.js"></script>
    <script src="lib/js/bootstrap.min.js"></script>
    <script src="lib/js/queue.v1.min.js"></script>
</head>

<body>

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                <select id='selectionType' class="btn menu"
                        data-bind=" options: selections, value: currentType">
                </select>
            </div>

            <!-- ko if: currentType() === "By Patient" -->
            <div id="byPatient" class="col-md-4"></div>
            <!-- /ko -->

            <div id="byCluster" class="col-md-2"></div>

            <!-- ko if: currentType() === "By Prediction" -->
            <div id="byPrediction" class="col-md-5"></div>
            <!-- /ko -->

            <select id='numberOfPatients' class="btn menu"
                    data-bind=" options: numberToDisplay,
                     optionsText: function(item) {
                       if(_.isNumber(item)) return 'Top ' + item + ' Patients';
                       else return item + ' Patients';
                   },
                      value: currentDisplay" >
            </select>
        </div>
    </div>
</nav>

<div class="container-fluid" style="margin-top: 55px">
    <!--<div data-bind="css: { row: ($index()+1) % $parent.maxNodes == 0 }">-->
    <div class="row" data-bind="foreach: rankings">
        <div class="patient_container" data-bind=" css: { 'col-md-2': $parent.maxNodes > 5, 'col-md-3': $parent.maxNodes < 6  } ">
            <div class="x_panel tile">
                <div class="x_title" data-bind="css: { male: gender=='male', female: gender=='female'}">
                    <h2 class="patient"><a href="#"  data-bind="text: 'Patient '+patient, click:App.changePatient"></a></h2>
                    <h2 class='tumor' data-bind="text: 'Tumor: '+position"></h2>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <div data-bind="attr: {id: 'patient'+patient}" style="display: table; margin: auto;"></div>
                    <h2 class="stats">Similarity Score: <span class="bold" data-bind="text: score"></span></h2>
                    <h2 class="stats">Aspiration (pre/post): <span class="bold" data-bind="text: aspiration_pre + ' / ' + aspiration_post"></span></h2>
                    <h2 class="stats">Feeding Tube (pre/post): <span class="bold" data-bind="text: feedingTube_pre + ' / ' + feedingTube_post"></span></h2></div>
            </div>
        </div>
    </div>
</div>

<div id="virtualGraph" style="visibility: hidden"></div>

<script src="src/js/utilities.js"></script>
<script src="src/js/main.js"></script>
<script src="src/js/model.js"></script>

</body>

</html>